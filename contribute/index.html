
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../session/profile/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Contribute - cmq</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#contribute-to-the-project" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="cmq" class="md-header__button md-logo" aria-label="cmq" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            cmq
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Contribute
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ocadotechnology/cmq" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="cmq" class="md-nav__button md-logo" aria-label="cmq" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    cmq
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ocadotechnology/cmq" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Contribute
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Contribute
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configure-your-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Configure your environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-add-new-resources" class="md-nav__link">
    <span class="md-ellipsis">
      How to add new resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to add new resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-new-resource" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a new resource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-the-new-class-to-the-project-entry-point" class="md-nav__link">
    <span class="md-ellipsis">
      Add the new class to the project entry point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-new-resource" class="md-nav__link">
    <span class="md-ellipsis">
      Using the new resource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-support-for-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Adding support for tags
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adding support for tags">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Managing tags
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-support-for-describe" class="md-nav__link">
    <span class="md-ellipsis">
      Adding support for describe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-support-for-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Adding support for metrics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Resource overview
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Resource overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sessions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Sessions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../session/profile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profile
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Resources
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/address/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Address
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/alarm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Alarm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/cloudformation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CloudFormation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/cloudtrail/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CloudTrail
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/dynamodb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DynamoDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/elasticache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Elasticache
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/elasticache_parameter_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Elasticache Parameter Group
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/elasticache_subnet_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Elasticache Subnet Group
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/function/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Function
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/keyspace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Keyspace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/keyspace_table/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Keyspace Table
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/kinesis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kinesis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/kms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KMS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/kms_alias/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KMS Alias
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/log/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Log
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/log_stream/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Log Stream
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/log_event/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Log Event
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/metric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metric
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/rds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RDS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/rds_parameter_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RDS Parameter Group
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/region/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Region
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/resource_explorer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resource Explorer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/resource_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resource Group
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/route53/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Route53
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/s3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    S3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/s3_object/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    S3 Object
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/secret/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SecretsManager Secret
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/security_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security Group
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/sns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SNS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/sqs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/user_key/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Key
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/role/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Role
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/route53/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Route53
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/vpc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VPC
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configure-your-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Configure your environment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-add-new-resources" class="md-nav__link">
    <span class="md-ellipsis">
      How to add new resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to add new resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-new-resource" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a new resource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-the-new-class-to-the-project-entry-point" class="md-nav__link">
    <span class="md-ellipsis">
      Add the new class to the project entry point
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-new-resource" class="md-nav__link">
    <span class="md-ellipsis">
      Using the new resource
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-support-for-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Adding support for tags
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adding support for tags">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#managing-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Managing tags
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-support-for-describe" class="md-nav__link">
    <span class="md-ellipsis">
      Adding support for describe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-support-for-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Adding support for metrics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<div><h1 id="contribute-to-the-project">Contribute to the project</h1>
<h2 id="configure-your-environment">Configure your environment</h2>
<p><code>cmq</code> uses <code>poetry</code> to manage dependencies. Poetry recommends to use a virtual environment, but it's not mandatory.</p>
<p>Clone the repository and install dependencies:</p>
<pre><code class="language-bash">git clone https://github.com/ocadotechnology/cmq
cd cmq
poetry install
</code></pre>
<h2 id="how-to-add-new-resources">How to add new resources</h2>
<p>Adding support for a new resource is really simple. <code>cmq</code> uses a plugin system to load resources. You can add new sessions/resources to <code>cmq</code> directly or you can create your own packages. Let's see how to do it.</p>
<h3 id="adding-a-new-resource">Adding a new resource</h3>
<p>Let's add a new resource to list IAM Users.</p>
<p>The first thing we have to do is create a new resource class. Create the file <code>user.py</code> inside the <code>src/cmq/aws/resource</code> folder with the following content:</p>
<pre><code class="language-python">from cmq.aws.aws import AWSResource

class user(AWSResource):

    def __init__(self, parent=None):
        super().__init__(parent)
        self._service = "iam"
        self._resource = "user"
        self._list_function = "list_users"
        self._list_key = "Users"
</code></pre>
<ul>
<li><code>_service</code>: This is the name of the AWS service</li>
<li><code>_resource</code>: This is a descriptive/short value to name the resource</li>
<li><code>_list_function</code>: The <code>boto3</code> function that list/describe the resource</li>
<li><code>_list_key</code>: The key that contains the results in the response. If this is not defined, <code>cmq</code> will try to find the list automatically.</li>
<li><code>_list_paginated</code>: <code>True</code> (default value) if the <code>boto3</code> function support pagination. <code>False</code> otherwise.</li>
</ul>
<h3 id="add-the-new-class-to-the-project-entry-point">Add the new class to the project entry point</h3>
<p>Open the file <code>pyproject.toml</code> and add the following line to the section <code>[project.entry-points."cmq.provider.aws"]</code>:</p>
<pre><code class="language-toml">user = "cmq.aws.resource.user:user"
</code></pre>
<h3 id="using-the-new-resource">Using the new resource</h3>
<p>We can start using the new resource to list IAM users. For example, let's list all users in <code>account-a</code> account:</p>
<pre><code class="language-bash">cmq 'profile(name="account-a").user().list()'
[
  {
    "Path": "/",
    "UserName": "user.a",
    "UserId": "XXXXXXXXXXXXXX",
    "Arn": "arn:aws:iam::123456789012:user/user.a",
    "CreateDate": "2024-05-29 21:17:17+00:00"
  },
...
</code></pre>
<p>All the filters are also compatible with the new resource. For example, we can retrieve only the attributes <code>UserName</code> and values that contains <code>test</code>.</p>
<pre><code class="language-bash">cmq 'profile(name="account-a").user().attr("UserName").contains("UserName", "test").list()'
[
  {
    "UserName": "test-web"
  },
  {
    "UserName": "test-backend"
  }
]
</code></pre>
<h3 id="adding-support-for-tags">Adding support for tags</h3>
<p>Similarly to the list function, <code>cmq</code> provides a method to load tags as part of the resource definition. All we need to do is adding a few attributes/method that describe how tags are loaded.</p>
<p>Update the above class with the following details:</p>
<pre><code class="language-python">from cmq.aws.aws import AWSResource

class user(AWSResource):

    def __init__(self, parent=None):
        super().__init__(parent)
        self._service = "iam"
        self._resource = "user"
        self._list_function = "list_users"
        self._list_key = "Users"

        self._tag_function = "list_user_tags"
        self._tag_function_key = "UserName"
        self._tag_resource_key = "UserName"
</code></pre>
<p>The new attributes are:</p>
<ul>
<li><code>_tag_function</code>: The <code>boto3</code> function that list tags for this resource</li>
<li><code>_tag_function_key</code>: The parameter passed to the function to list the tags</li>
<li><code>_tag_resource_key</code>: The key that identify the resource in the response of <code>_list_function</code></li>
</ul>
<p>The <code>cmq</code> will automatically load the tags for the resource when you call the <code>tags()</code> action.</p>
<h4 id="managing-tags">Managing tags</h4>
<p>Sometimes getting the correct value for the tag function is a little bit more complex. For these cases, there are a couple of methods to handle the situation:</p>
<ul>
<li><code>_get_tag_resource_identifier</code>: This method is called to get the value for the tag function. It receives the resource as a parameter and returns the value to be used in the tag function.</li>
<li><code>_format_tags</code>: This method is called to format the tags returned by the tag function. It receives the tags as a parameter and returns the formatted tags.</li>
</ul>
<p>For example, the function that list tags for Kinesis streams expects to receive the ARN of the stream:</p>
<pre><code class="language-python">    def _get_tag_resource_identifier(self, context: dict[str, Any], resource: dict[str, Any]) -&gt; str:
        return resource["StreamARN"]
</code></pre>
<h3 id="adding-support-for-describe">Adding support for describe</h3>
<p>Sometimes the information available in the list function is not enough. In this case, you can add a describe function to retrieve the full information for a specific resource. A good example of this is is DynamoDB tables. DynamoDB tables are identified by the name, but the list function only returns the name of the table. To get the full information, we need to use the describe function.</p>
<pre><code class="language-python">        self._describe_function = "describe_table"
        self._describe_function_key = "TableName"
        self._describe_resource_key = "resource"
</code></pre>
<p>The new attributes are:</p>
<ul>
<li><code>_describe_function</code>: The <code>boto3</code> function that describe the resource</li>
<li><code>_describe_function_key</code>: The parameter passed to the function to describe the resource</li>
<li><code>_describe_resource_key</code>: The key that identify the resource in the response of <code>_list_function</code></li>
</ul>
<p>When you call the <code>describe</code> action, <code>cmq</code> will use the <code>_describe_function</code> to retrieve the full information for the resource.</p>
<p>Now, we can retrieve the full information for all tables that start with <code>users-</code>:</p>
<pre><code class="language-bash">cmq 'profile().dynamodb().starts_with("resource", "users-").describe().list()'
</code></pre>
<h3 id="adding-support-for-metrics">Adding support for metrics</h3>
<p>AWS publish CloudWatch metrics to allow users monitor the usage of their services. You can use the <code>metric</code> module to access this information, but other modules can also define some attributes that will simplify the process of getting metrics for that specific resource. For example, the <code>rds</code> resource defines:</p>
<pre><code class="language-python">    self._metric_namespace = "AWS/RDS"
    self._metric_dimension_name = "DBInstanceIdentifier"
    self._metric_dimension_resource_key = "DBInstanceIdentifier"
</code></pre>
<ul>
<li><code>_metric_namespace</code>: This is the namespace of the metric in CloudWatch</li>
<li><code>_metric_dimension_name</code>: This is the dimension inside the namespace</li>
<li><code>_metric_dimension_resource_key</code>: This is the resource key that need to be used in the dimension</li>
</ul>
<p>Now we can get RDS metrics for this resource. For example, let's get the maximum <code>CPUUtilization</code> of <code>webserver</code> databases:</p>
<pre><code class="language-python">profile().rds().tags().eq("Tags.appId", "webserver").metric(statistic="Maximum", metric_name="CPUUtilization", unit="Percent")
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>